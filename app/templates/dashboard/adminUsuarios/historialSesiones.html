<title>Historial de sesiones</title>

{% extends "dashboard/basemenu.html" %}

{% block title %}Historial de sesiones{% endblock %}



{% block sidebar %}{% endblock %}



{% block content %} 
    <style>
        /* Estilo básico para el modal */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgb(0,0,0); 
            background-color: rgba(0,0,0,0.4); 
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; 
            padding: 20px;
            border: 1px solid #888;
            width: 80%; 
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
   


<!---Scripts-->
<script src="{{url_for('static', filename='assets/js/delete.js')}}"></script>
<script src="{{url_for('static', filename='assets/js/script2.js')}}"></script>
    <!-- Bootstrap core CSS -->




    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>

 
    <main class="px-md-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <ul class="nav nav-tabs">
       
              <a class=" nav-link  " style="color: rgb(66, 64, 64);" href="{{url_for('administrarUsuarios')}}">Administrar usuarios</a>
            </li>
            <li class="nav-item">
              <a class="h4 nav-link active" style="color: black;" href="{{url_for('historialSesiones')}}">Historial de sesiones</a>
            </li>
          </ul>  

          <div class="position-relative" style="width: 250px;">
            <input type="text" id="buscarHistorial" class="form-control" style="border-radius: 25px; padding-right: 40px;" placeholder="Buscar...">
            <i class="bx bx-search-alt-2" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: gray; font-size: 20px;"></i>
          </div>
  </div>
  
<!---Tabla-->
<div class=container>
          

    <table class="table " id="tablaHistorial">
        <thead>
            <th scope="col">Usuario</th>
            <th scope="col">Sesión</th>

          </thead>
    
    <tbody>
      {% for d in data %}
        <tr>
            <td>{{d.usuario}}</td>
            <td>{{d.ultima_sesion}}</td>
        </tr>

        


      {% endfor %}


    </tbody>

  </table>
</div>




<script>
  document.addEventListener("DOMContentLoaded", function() {
      const inputBusqueda = document.getElementById("buscarHistorial");
      inputBusqueda.addEventListener("keyup", function() {
          const filtro = this.value.toLowerCase();
          const filas = document.querySelectorAll("#tablaHistorial tbody tr");
  
          filas.forEach(fila => {
              const textoFila = fila.textContent.toLowerCase();
              fila.style.display = textoFila.includes(filtro) ? "" : "none";
          });
      });
  });
  </script>
  

</body>

</body>

{% endblock %}
</html>
