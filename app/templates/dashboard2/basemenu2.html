<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">


<!---Boostrap--->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <!-- Bootstrap core CSS -->
{% block customeCSS %}
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>


{%endblock %}
<!-- Bootstrap CSS -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<!-- scripts -->

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Popper.js -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
 <!-- Antes del </body> -->
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  


    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .dropdown-container {
  display: none; /* Oculto por defecto */
  padding-left: 20px; /* Espaciado opcional */
}

.dropdown-container a{
  display: block;
  padding: 5px 0;
  text-decoration: none;
  color: #fff !important;;
  background-color: transparent; /* Fondo transparente inicialmente */
  transition: all 0.3s ease; /* Animación suave para el cambio de color */
  width: 100%;
}
.dropdown{
  margin-bottom: 15px;

}

.dropdown-container a:hover {
  color: #000 !important;
  background-color: #e9ecef; /* Fondo claro al resaltar */

}

.dropdown-container.open {
  display: block; /* Mostrar cuando esté abierto */
}

.nav-item {
  transition: all 0.3s ease-in-out; /* Animación suave para reposicionar elementos */
}

.form-row {
  display: flex; /* Utiliza Flexbox */
  gap: 10px;     /* Espacio entre los dos campos */
  margin-bottom: 5px
}
.input {
            background-color: white;
            border: 3px solid  #fff 003366;
            border-radius: 25px;
            padding: 8px 12px;
            font-size: 16px;
            color: #333;
            outline: none;
            transition: border-color 0.3s ease;
            width: 300px;
            align-self: flex-start; /* Alinea el elemento a la izquierda */
            margin-bottom: 15px;
          }
        
/* Grupos de campos */
.form-group {
    margin-bottom: 15px;
}

/* Etiquetas */
.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #333;
}
.btn{
  border-radius: 25px;
}

/* Estilos para el modal */
.custom-modal {
  display: none; /* Inicialmente el modal está oculto */
  position: fixed;
  z-index: 1; /* Se asegura de que el modal esté encima de otros elementos */
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5); /* Fondo semitransparente */
  overflow: auto; /* Permite desplazarse si el contenido es largo */
  padding-top: 60px;
}

/* Contenido del modal */
.custom-modal-content {
  background-color: #fff;
  margin: 5% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%; /* Ancho del modal */
}

/* Estilo para el botón de cerrar */
.custom-close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}


    </style>


  <body>

  <div class="d-flex" >





<!---Menu lateral-->

{% block sidebar %}          {% endblock %}

  <!-- Mini sidebar con solo íconos -->
<div id="miniSidebar" style="
width: 60px;
height: 100vh;
position: fixed;
background-color: #13162f;
display: flex;
flex-direction: column;
align-items: center;
padding-top: 20px;
z-index: 1030;
">
<a href="{{url_for('dashboard')}}" class="mb-4" title="Dashboard">
  <i class='bx bxs-dashboard' style="color: #fff; font-size: 24px;" ></i>
</a>
<a href="#" onclick="toggleModal('manualModal')" class="mb-4">
  <i class='bx bx-help-circle' style="color: #fff; font-size: 24px;"title="Acerca de"></i>
</a>

<!-- Modal del manual de usuario -->
<div id="manualModal" class="custom-modal" style="display: none;">
  <div class="custom-modal-content">
    <span onclick="toggleModal('manualModal')" class="custom-close"       style="position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer;">
      &times;</span>
    <div class="custom-modal-header"> <h3>Acerca de</h3></div>
    <div class="custom-modal-content " style="text-align: center;">
      <img src="/static/assets/img/logo.png" alt="Logo" style="width: 300px; margin-bottom: 20px;" >
      <p style="width: 500px; text-align: center; margin: 0 auto;">Control+P es un sistema de infromación automatizado para el control de pedidos de la empresa Multiservicios Frielec, C.A, desarrollado por el equipo investigador: Leslie Rodríguez, Darwin Francis, Mariana Millán, Raniel Quijada, Ali Medina, en el año 2025. Cuenta una serie de módulos y funcionalidades que permiten gestionar de manera eficiente las órdenes y pedidos que recibe la empresa. </p>      
      </div>
<h4>Manual de usuario</h4>
    <!-- Contenedor para el PDF -->
    <div id="pdf-container">
      <embed id="manual-pdf" src="" type="application/pdf" width="100%" height="500px">
    </div>
  </div>
</div>


</div>

    <nav id="sidebarMenu" class="col-md- d-md-block sidebar collapse" 
      style="background-color: #1b203e; height: 100vh; position: fixed; overflow-y: auto; width: 240x; left: 60px; padding-left: 20px;">
      <div class="position-sticky pt-3">
        <ul class="nav flex-column">


          <li class="nav-item" style="margin-bottom: 20px;">
            <div style="display: flex; align-items: center;">
            <img src="/static/assets/img/logo2.png" alt="Logo" style="width: 35px;">
            <a class="h3 fw-bold mb-0 nav-link " href="{{url_for('dashboard')}}" style="color: white; " >Control+P
            </a>
            </div>
          </li>


          <div class="nav-item text-nowrap"  style="margin-bottom: -7px;">
            <div class="dropdown">
                <a href="#" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link" 
                  style="height: 40px; display: flex; align-items: center; padding-right: 10px;" 
                  onclick="toggleDropdown('empleadosDropdown')"> 
                  <i class="bx bxs-user-badge" style="color: #fff; font-size: 20px;"></i>
                  <i style="color: #fff; font-size: 16px; font-style: normal; padding-left: 20px;">Empleados</i>
                </a>
                <div id="empleadosDropdown" class="dropdown-container  " style="display: none ; " aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item"  style="padding-left: 30px; font-size: 16px; " href="{{url_for('verRegistrosEmpleados')}}">Ver registros</a>
                  <a class="dropdown-item" style="padding-left: 30px; font-size: 16px;" href="{{url_for('registrarEmpleado')}}">Registrar</a>
               </div>
            </div>
          </div>
     
          <div class="nav-item text-nowrap" style="margin-bottom: -7px;">
            <div class="dropdown">
                <a href="#" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link" 
                  style="height: 40px; display: flex; align-items: center; padding-right: 10px; " 
                  onclick="toggleDropdown('clientesDropdown')"> 
                  <i class="bx bxs-group" style="color: #fff; font-size: 20px;"></i>
                  <i style="color: #fff; font-size: 16px;; font-style: normal; padding-left: 20px;">Clientes</i>
                </a>
                <div id="clientesDropdown" class="dropdown-container  " style="display: none ; " aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item"  style="padding-left: 30px ;font-size: 16px;  " href="{{url_for('verRegistrosClientes')}}">Ver registros</a>
                  <a class="dropdown-item" style="padding-left: 30px;font-size: 16px;" href="{{url_for('registrarCliente')}}">Registrar</a>
               </div>
            </div>
          </div>


          <div class="nav-item text-nowrap" style="margin-bottom: -7px;">
            <div class="dropdown">
                <a href="#" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link" 
                  style="height: 40px; display: flex; align-items: center; padding-right: 10px; " 
                  onclick="toggleDropdown('pedidosDropdown')"> 
                  <i class="bx bxs-file" style="color: #fff; font-size: 20px;"></i>
                  <i style="color: #fff; font-size: 16px; font-style: normal; padding-left: 20px;">Pedidos</i>
                </a>
                <div id="pedidosDropdown" class="dropdown-container  " style="display: none ; " aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item"  style="padding-left: 30px;font-size: 16px;  " href="{{url_for('verRegistrosPedidos')}}">Ver registros</a>
                  <a class="dropdown-item" style="padding-left: 30px;font-size: 16px;" href="{{url_for('nuevoPedido')}}">Registrar</a>
               </div>
            </div>
          </div>

          <div class="nav-item text-nowrap" style="margin-bottom: -7px;">
            <div class="dropdown">
                <a href="#" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link" 
                  style="height: 40px; display: flex; align-items: center; padding-right: 10px; " 
                  onclick="toggleDropdown('serviciosDropdown')"> 
                  <i class="bx bxs-cog" style="color: #fff; font-size: 20px;"></i>
                  <i style="color: #fff; font-size: 16px; font-style: normal; padding-left: 20px;">Servicios</i>
                </a>
                <div id="serviciosDropdown" class="dropdown-container  " style="display: none ; " aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item"  style="padding-left: 30px;  font-size: 16px;" href="{{url_for('verRegistrosServicios')}}">Ver registros</a>
                  <a class="dropdown-item" style="padding-left: 30px; font-size: 16px;" href="{{url_for('registrarServicio')}}">Registrar</a>
               </div>
            </div>
          </div>
            
          
           

    </nav>

<div class="main-content" style="margin-left: 300px; width: calc(100%); padding-top: 60px; padding-bottom: 60px;">

<!--Menu superior horizontal-->


<header class="navbar navbar-dark sticky-top flex-md-nowrap shadow " 
    style="position: fixed; top: 0; left: 310px; height: 60px; width: calc(100% - 300px); background-color: #fff; z-index: 1000; display: flex; align-items: center; justify-content: flex-end; padding-right: 20px;" >


  <div class="navbar-nav ms-auto"  >
  
    <div class="nav-item text-nowrap">
      <div class="dropdown">
          <a href="#" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link" 
            style="height: 40px; display: flex; align-items: center; padding-right: 10px; "> 
            <i style="color: #1b203e; font-size: 20px; font-style: normal; padding-right: 3px; padding-top: 10px;">{{ session['usuario'] }}</i>
            <i class='bx bxs-user-circle' style="color: #1b203e; font-size: 50px;  padding-top: 15px;"> </i>
          </a>
          <div class="dropdown-menu dropdown-menu-end mt-2 " style="margin-top: 10px; position: absolute; z-index: 1050;  " aria-labelledby="dropdownMenuButton">
            <!---<a class="dropdown-item" href="{{url_for('perfil')}}">Perfil</a>--->
            <a class="dropdown-item" href="{{url_for('logout')}}">Cerrar sesión</a>
         </div>
      </div>
    </div>
    
  </div>
</header>


{% with messages = get_flashed_messages()  %}
{% if messages %}
{% for message in messages %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
{{ message }}
<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
</button>
</div>
{% endfor %}
{% endif %}
{% endwith %}
{% block content %} {% endblock %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"> </script>
<script>
  function toggleDropdown(dropdownId) {
  const dropdown = document.getElementById(dropdownId);
  const isVisible = dropdown.style.display === "block";

  // Ocultar todos los dropdowns
  document.querySelectorAll('.dropdown-container').forEach(container => {
    container.style.display = "none";
    container.classList.remove('open');
  });

  // Mostrar o cerrar el dropdown actual
  if (!isVisible) {
    dropdown.style.display = "block";
    dropdown.classList.add('open');
  }
}
// Función para abrir o cerrar el modal
function toggleModal(modalId) {
  const modal = document.getElementById(modalId);
  const pdfContainer = document.getElementById("pdf-container");
  const pdfEmbed = document.getElementById("manual-pdf");

  if (modal.style.display === "none" || modal.style.display === "") {
    modal.style.display = "block"; // Muestra el modal
    
    // Aquí cargamos el archivo PDF en el embed
    pdfEmbed.src = "/static/assets/pdf/Control+P_Manual_de_usuario.pdf"; // Cambia esta URL a la ubicación del archivo PDF
  } else {
    modal.style.display = "none"; // Oculta el modal
    pdfEmbed.src = ""; // Limpia la fuente del PDF cuando el modal se cierra
  }
}

// Cerrar el modal si se hace clic fuera de él
window.onclick = function(event) {
  const modal = document.getElementById("manualModal");
  if (event.target === modal) {
    toggleModal('manualModal');
  }
}

</script>
<script>
  const limpiarBackdrops = () => {
    const backdrops = document.querySelectorAll('.modal-backdrop');
    if (backdrops.length > 1) {
      backdrops.forEach((b, i) => {
        if (i > 0) b.remove();
      });
    }
  };

  document.addEventListener('shown.bs.modal', limpiarBackdrops);

  document.addEventListener('hidden.bs.modal', () => {
    // Limpieza total al cerrar modal
    const backdrops = document.querySelectorAll('.modal-backdrop');
    backdrops.forEach(b => b.remove());
    document.body.classList.remove('modal-open');
    document.body.style.overflow = '';
    document.body.style.paddingRight = '';
  });
</script>

</body>

</html>
